var todomvc=function(e){"use strict";var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r(function(e,u){var o=i&&i.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(u,"__esModule",{value:!0}),u.pathCallbacks=new WeakMap,u.getSubset=function(e,n){return e.reduce(function(e,t){return o({},e,((r={})[t]=n[t],r));var r},{})},u.isObject=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)},u.deepValue=function(e,t){if(!t)return e;var r,n,o=t.split("."),a=e;for(r=0,n=o.length;r<n;++r){if(void 0===a[o[r]])return;a=a[o[r]]}return a},u.merge=function(e,t){void 0===e&&(e={});for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r],a=e[o],i=t[o];Array.isArray(a)?a.push.apply(a,i):u.isObject(a)?u.merge(a,i):e[o]=i}return e},u.ensure=function(e,t,r){var n=e.get(t);return n?Array.isArray(n)&&Array.isArray(r)?n.push.apply(n,r):u.isObject(n)&&u.merge(n,r):e.set(t,n=r),n},u.propertyCallbacks=new WeakMap,u.addPropertyListener=function(n,o,e){var t,a=n[o],r=u.propertyCallbacks.has(n)&&u.propertyCallbacks.get(n)[o];u.ensure(u.propertyCallbacks,n,((t={})[o]=[e],t)),r||Object.defineProperty(n,o,{get:function(){return a},set:function(e){a=e;for(var t=0,r=u.propertyCallbacks.get(n)[o];t<r.length;t++){(0,r[t])(o)}return a}})},u.createObjectPropertyListener=function(r,n,e){var t,o=n.split("."),a=o.pop(),i=u.deepValue(r,o.join("."));u.ensure(u.pathCallbacks,r,((t={})[n]=[e],t)),u.addPropertyListener(i,a,function(){for(var e=0,t=u.pathCallbacks.get(r)[n];e<t.length;e++)(0,t[e])()})}}),o=t(n),a=n.pathCallbacks,u=n.getSubset,s=n.isObject,c=n.deepValue,l=n.merge,p=n.ensure,f=n.propertyCallbacks,d=n.addPropertyListener,m=n.createObjectPropertyListener,v=Object.freeze({default:o,__moduleExports:n,pathCallbacks:a,getSubset:u,isObject:s,deepValue:c,merge:l,ensure:p,propertyCallbacks:f,addPropertyListener:d,createObjectPropertyListener:m}),h=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.allChildNodes=function(e){for(var t,r=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),n=[];((t=r.currentNode).nodeType!==Node.TEXT_NODE||t.textContent.trim())&&n.push(t),r.nextNode(););return n},t.allTextNodes=function(e){for(var t,r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=n.nextNode();)r.push(t);return r}}),y=t(h),g=h.allChildNodes,T=h.allTextNodes,b=Object.freeze({default:y,__moduleExports:h,allChildNodes:g,allTextNodes:T}),k=v&&o||v,C=b&&y||b,E=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=new WeakMap;t.registerCleanUp=function(e,t){return k.ensure(i,e,[t])},t.cleanUp=function(a){return setTimeout(function(){for(var e=0,t=C.allChildNodes(a);e<t.length;e++){var r=t[e];if(i.has(r)){for(var n=0,o=i.get(r);n<o.length;n++){(0,o[n])()}i.delete(r)}}},80)}}),O=t(E),_=E.registerCleanUp,L=E.cleanUp,A=Object.freeze({default:O,__moduleExports:E,registerCleanUp:_,cleanUp:L}),j=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,t){return e.replace(/{{.*?}}/g,function(e){return k.deepValue(t,e.substring(2,e.length-2))})},t.namedRegexMatch=function(e,t,n){var r=t.exec(e);if(r)return r.reduce(function(e,t,r){return 0<r&&(e[n[r-1]]=t),e},{})},t.decapitalize=function(e){return e.charAt(0).toLowerCase()+e.substr(1)},t.camelCaseFromHyphens=function(e){return e.replace(/\b-([a-z])/g,function(e,t){return t.toUpperCase()})}}),P=t(j),S=j.format,w=j.namedRegexMatch,M=j.decapitalize,R=j.camelCaseFromHyphens,x=Object.freeze({default:P,__moduleExports:j,format:S,namedRegexMatch:w,decapitalize:M,camelCaseFromHyphens:R}),N=A&&O||A,U=x&&P||x,D=r(function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ConstructRegistry={},o.Singletons={},o.start=function(e){void 0===e&&(e=document.documentElement);var n=[];return Object.keys(o.ConstructRegistry).forEach(function(r){Array.from(e.querySelectorAll(r)).forEach(function(e){var t=new(Function.prototype.bind.apply(o.ConstructRegistry[r]));o.runConstructorQueue(t,e),n.push(t)})}),n},o.Construct=function(n){return function(e){o.ConstructRegistry[n.selector]=e,o.addToConstructorQueue(e,function(e,t){if(!0===n.singleton){var r=U.decapitalize(e.constructor.name);o.Singletons[r]=e,N.registerCleanUp(t,function(){delete o.Singletons[r]})}e.init(t)})}};var a=new WeakMap;o.addToConstructorQueue=function(e,t){k.ensure(a,e,[t])},o.runConstructorQueue=function(e,t){for(var r=a.get(Object.getPrototypeOf(e).constructor)||[],n=0,o=r.length;n<o;n++)r[n].call(e,e,t)}}),F=t(D),I=D.ConstructRegistry,W=D.Singletons,Q=D.start,z=D.Construct,V=D.addToConstructorQueue,H=D.runConstructorQueue,G=Object.freeze({default:F,__moduleExports:D,ConstructRegistry:I,Singletons:W,start:Q,Construct:z,addToConstructorQueue:V,runConstructorQueue:H});var B,X;!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("[hidden] {\n    display: none !important;\n}\n"),(X=B||(B={}))[X.ALL=0]="ALL",X[X.COMPLETED=1]="COMPLETED",X[X.ACTIVE=2]="ACTIVE";function Y(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;0<=u;u--)(o=e[u])&&(i=(a<3?o(i):3<a?o(t,r,i):o(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i}var q=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={}.toString;t.compose=function(t){return function(e){return 1===t.length?t[0](e):t.reduce(function(e,t){return t(e)},e)}},t.isFunction=function(e){return e&&"[object Function]"===r.call(e)},t.isDef=function(e){return void 0!==e},t.isUndef=function(e){return!t.isDef(e)}}),$=t(q),J=q.compose,K=q.isFunction,Z=q.isDef,ee=q.isUndef,te=Object.freeze({default:$,__moduleExports:q,compose:J,isFunction:K,isDef:Z,isUndef:ee}),re=G&&F||G,ne=te&&$||te,oe=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Inject=function(){return function(e,r){re.addToConstructorQueue(e.constructor,function(e){var t=re.Singletons[r];ne.isDef(t)&&(e[r]=t)})}}}),ae=t(oe),ie=oe.Inject,ue=Object.freeze({default:ae,__moduleExports:oe,Inject:ie}),se=r(function(e,_){Object.defineProperty(_,"__esModule",{value:!0});var o="__default__";_.parsedTemplates=new WeakMap,_.SINGLE_CURLIES=/{(.*?)}/,_.CURLIES=/{{(.*?)}}/;var L,t,i=/{{(.+?)}}/g;_.selfClosingTags=/(<([^<>\s]+)(\s+[^<>\s'"=]+(=[\w\d]+|="[^"]*"|='[^']*'|={{?[^}]*?}?})?)*)\s*\/>/gim,_.openTags="$1></$2>",(t=L=_.TemplateTokenType||(_.TemplateTokenType={}))[t.CLASS=0]="CLASS",t[t.PROPERTY=1]="PROPERTY",t[t.ATTRIBUTE=2]="ATTRIBUTE",t[t.TEMPLATE=3]="TEMPLATE",t[t.TEXT=4]="TEXT",t[t.TAG=5]="TAG";var A=function(){function e(e,t){this.position=e,this.type=t}return e.prototype.setCurly=function(e){var t=(this._curly=e).split(":");this._path=t.shift(),this._transformers=t},e.prototype.curly=function(){return this._curly},e.prototype.path=function(){return this._path},e.prototype.transformers=function(){return this._transformers},e.prototype.arrayTransformer=function(){if(1<this._transformers.length)throw Error("Array filter transformer can have only one method");return this.transformers()[0]||"arrayidentity"},e}();_.TemplateTokenInfo=A,_.breakApartTextNodes=function(e){for(var t=C.allTextNodes(e),r=0,n=t.length;r<n;r++){var o=t[r],a=o.textContent.split(/({{.*?}})/gm);if(1<a.length){for(var i=o.parentNode,u=document.createDocumentFragment(),s=0,c=a;s<c.length;s++){var l=c[s];""!==l&&u.appendChild(document.createTextNode(l))}i.replaceChild(u,o)}}return e},_.getFragment=function(e){return document.createRange().createContextualFragment(e)};var u=function(){function t(e,t,r){this.doc=e,this.infos=r,this.nodes=t}return t.prototype.clone=function(){var e=this.doc.cloneNode(!0);return new t(e,C.allChildNodes(e),this.infos)},t}();_.ParsedTemplate=u,_.getTemplate=function(e,t){void 0===t&&(t=o);var r=Object.getPrototypeOf(e),n=_.parsedTemplates.get(r);if(ne.isUndef(n)||ne.isUndef(n[t]))throw Error("No template found for name "+t+" in "+e.constructor.name);return n[t].clone()},_.parseTemplate=function(e){for(var t,r=e.replace(_.selfClosingTags,_.openTags),n=_.breakApartTextNodes(_.getFragment(r)),o=C.allChildNodes(n),a={};t=i.exec(e);)a[t[1].toLowerCase()]=t[1];return new u(n,o,_.parseHooks(o,a))},_.parseHooks=function(T,b){void 0===b&&(b={});for(var C,E=[],O=Object.keys(re.ConstructRegistry),e=function(e,t){var r=T[e];if(r.nodeType===Node.TEXT_NODE){var n=r.textContent,o=_.CURLIES.exec(n);if(null!==o)(y=new A(e,L.TEXT)).setCurly(o[1]),E.push(y)}else if(r.nodeType===Node.ELEMENT_NODE){var a=O.filter(function(e){return r.matches(e)}),i=a.length;if(i)for(var u=0,s=a;u<s.length;u++){var c=s[u];(y=new A(e,L.TAG)).selector=c,E.push(y)}for(var l=0,p=Array.from(r.attributes);l<p.length;l++){var f=p[l],d=f.nodeName;if("class"===d)for(var m=0,v=Array.from(r.classList);m<v.length;m++){var h=v[m];if(C=h.match(_.CURLIES))r.classList.remove(C[0]),(y=new A(e,L.CLASS)).setCurly(C[1]),E.push(y)}else if(C=d.match(_.CURLIES)){r.removeAttribute(C[0]),(y=new A(e,L.PROPERTY)).setCurly(b[C[1]]),E.push(y)}else if(!i)if("template"===d){(y=new A(e,L.TEMPLATE)).attribute=d,(C=f.value.match(_.CURLIES))?y.setCurly(C[1]):y.setCurly(f.value),E.push(y)}else{var y,g=f.value;if(C=g.match(_.CURLIES))r.removeAttribute(d),(y=new A(e,L.ATTRIBUTE)).setCurly(C[1]),y.attribute=d,E.push(y)}}}},t=0,r=T.length;t<r;t++)e(t);return E},_.Template=function(a){return void 0===a&&(a=o),function(e,t){var r,n=e[t].call(e),o=_.parseTemplate(n);k.ensure(_.parsedTemplates,e,((r={})[a]=o,r))}}}),ce=t(se),le=se.parsedTemplates,pe=se.SINGLE_CURLIES,fe=se.CURLIES,de=se.selfClosingTags,me=se.openTags,ve=se.TemplateTokenType,he=se.TemplateTokenInfo,ye=se.breakApartTextNodes,ge=se.getFragment,Te=se.ParsedTemplate,be=se.getTemplate,Ce=se.parseTemplate,Ee=se.parseHooks,Oe=se.Template,_e=Object.freeze({default:ce,__moduleExports:se,parsedTemplates:le,SINGLE_CURLIES:pe,CURLIES:fe,selfClosingTags:de,openTags:me,TemplateTokenType:ve,TemplateTokenInfo:he,breakApartTextNodes:ye,getFragment:ge,ParsedTemplate:Te,getTemplate:be,parseTemplate:Ce,parseHooks:Ee,Template:Oe}),Le=r(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TransformerRegistry={arrayidentity:function(){return function(){return!0}}},r.Transformer=function(){return function(e,t){re.addToConstructorQueue(e.constructor,function(e){r.TransformerRegistry[t]=e[t].bind(e)})}}}),Ae=t(Le),je=Le.TransformerRegistry,Pe=Le.Transformer,Se=Object.freeze({default:Ae,__moduleExports:Le,TransformerRegistry:je,Transformer:Pe}),we=r(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var c=new WeakMap;s.removeFromArray=function(e,t){if(e&&0!==e.length){for(var r=0,n=t.length,o=e.length;o--;)if(~t.indexOf(e[o]))r++;else if(r){if(e.splice(o+1,r),0==(n-=r)){r=0;break}r=0}return r&&e.splice(0,r),e}};var l=function(e,t,r){for(var n=0,o=c.get(e);n<o.length;n++){o[n][t].apply(e,r)}};s.range=function(e,t){for(var r=new Array(t-e+1),n=0,o=r.length;n<o;n++)r[n]=n+e;return r},s.observeArray=function(n,e){var o,a,i,u,t=c.get(n);t?t.push(e):(c.set(n,[e]),n.pop=function(){return n.splice(n.length-1,1)[0]},n.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.splice.apply(n,[n.length,0].concat(e)),n.length},n.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},n.reverse=function(){var r=n.slice();return n.sort(function(e,t){return r.indexOf(t)-r.indexOf(e)}),n},n.shift=function(){return n.splice(0,1)[0]},n.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.splice.apply(n,[0,0].concat(e)),n.length},u=(i=n).splice,i.splice=function(e,t){var r=[].slice.call(arguments,2),n=u.apply(i,arguments);return l(i,"splice",[e,t,r,n]),n},a=(o=n).sort,o.sort=function(r){var t=s.range(0,o.length-1),e=r?[o.map(function(e,t){return t}).sort(function(e,t){return r(o[e],o[t])}).map(function(e){return t[e]})]:t,n=a.call(o,r);return l(o,"sort",e),n})},s.domArrayListener=function(y,g,T,b){var C=g.firstElementChild,E=[],O=new WeakMap,e={sort:function(e){for(var t=[],r=0;r<e.length;r++)E[e[r]]&&g.appendChild(O.get(y[r])),t[r]=E[e[r]];E=t},splice:function(e,t,r,n){void 0===n&&(n=[]);var o=Array.from(E);if(E.splice.apply(E,[e,t].concat(r.map(function(){return!1}))),t)for(var a=0,i=n;a<i.length;a++){var u=i[a],s=O.get(u);s.parentElement===g&&g.removeChild(s),O.delete(u),N.cleanUp(s)}if(r.length)for(var c=0,l=r;c<l.length;c++){var p=l[c];O.has(p)||O.set(p,b(p))}o.splice.apply(o,[e,t].concat(r.map(function(){return!0})));for(var f=0,d=y.length;f<d;f++){o[f]=T(y[f],f);var m=O.get(y[f]);if(o[f]&&!E[f]){var v=E.indexOf(!0,f),h=~v?O.get(y[v]):C;g.insertBefore(m,h)}else!o[f]&&E[f]&&m.parentNode===g&&g.removeChild(m)}E=o}};return e.splice(0,0,y,[]),N.registerCleanUp(g,function(){return c.delete(y)}),e}}),ke=t(we),Me=we.removeFromArray,Re=we.range,xe=we.observeArray,Ne=we.domArrayListener,Ue=Object.freeze({default:ke,__moduleExports:we,removeFromArray:Me,range:Re,observeArray:xe,domArrayListener:Ne}),De=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=new WeakMap;t.createComputedListener=function(t,e,r){var n=Object.getPrototypeOf(t);if(!o.has(n)||!o.get(n)[e.path()])throw Error("Bound functions must be decorated with @Computed(...paths: string[])");o.get(n)[e.path()].forEach(function(e){return k.createObjectPropertyListener(t,e,function(){return r()})})},t.Computed=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e,t){var r;k.ensure(o,e,((r={})[t]=n,r))}}}),Fe=t(De),Ie=De.createComputedListener,We=De.Computed,Qe=Object.freeze({default:Fe,__moduleExports:De,createComputedListener:Ie,Computed:We}),ze=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var l=new WeakMap;t.TemplateNode=function(r){return function(e,t){k.ensure(l,e,[{selector:r,property:t}])}},t.injectTemplateNodes=function(e,t){var r=Object.getPrototypeOf(e),n=l.get(r);if(ne.isDef(n))for(var o=0,a=n;o<a.length;o++)for(var i=a[o],u=0,s=t;u<s.length;u++){var c=s[u];if(e[i.property]=c.querySelector(i.selector),null!==e[i.property])break}}}),Ve=t(ze),He=ze.TemplateNode,Ge=ze.injectTemplateNodes,Be=Object.freeze({default:Ve,__moduleExports:ze,TemplateNode:He,injectTemplateNodes:Ge}),Xe=_e&&ce||_e,Ye=Se&&Ae||Se,qe=Ue&&ke||Ue,$e=Qe&&Fe||Qe,Je=Be&&Ve||Be,Ke=r(function(e,P){Object.defineProperty(P,"__esModule",{value:!0});var S=new WeakMap,u="__update__",s=function(){return new CustomEvent(u,{bubbles:!0,cancelable:!1,scoped:!1})},p=function(e,t,r,n){if(t.type===Xe.TemplateTokenType.TEXT)e.textContent=ne.isDef(r)?r:"";else if(t.type===Xe.TemplateTokenType.CLASS)n&&e.classList.remove((""+n).replace(/\s+/g,"-"))||r&&e.classList.add((""+r).replace(/\s+/g,"-"));else if(t.type===Xe.TemplateTokenType.ATTRIBUTE||t.type===Xe.TemplateTokenType.PROPERTY){var o=t.attribute||t.path();if(/checked|value/i.test(o))e[o]=r;else if(ne.isUndef(r)||!1===r)e.removeAttribute(o);else{var a=!0===r?"":r;e.setAttribute(o,a)}}return r},c=function(e,t,r,n){for(var o=!1,a=d(e,t,r),i=0,u=t.infos.length;i<u;i++){var s=t.infos[i];if(s.type!==Xe.TemplateTokenType.TAG){var c=n[i],l=a[i];l!==f?c!==l&&(o=!0,n[i]=p(t.nodes[s.position],s,l,c)):e[s.path()].splice(0,0)}}return{change:o,valueMap:n}},f=new function(){},w=function(e,t,r){var n=t.path(),o=r[t.curly()],a=k.deepValue(e,n);return Array.isArray(a)&&ne.isFunction(o(a))?f:(a=ne.isFunction(a)?a.call(e):a,a=o?o(a):a)},d=function(e,t,r){for(var n=[],o=0,a=t.infos.length;o<a;o++)n[o]=w(e,t.infos[o],r);return n},l=function(C,E,O,_){for(var L,A=[],j=C.infos,e=function(e,t,r){var n,o,a,i,u,s,c,l,p,f,d,m=(e=j[t]).path(),v=k.deepValue(E,e.path()),h=C.nodes[e.position];if(e.type===Xe.TemplateTokenType.TAG)!function(s,e,c){var l=new(Function.prototype.bind.apply(re.ConstructRegistry[e.selector]));k.ensure(S,s,[l]);for(var p,f=Array.prototype.slice.call(c.attributes),t=function(e,t,r){var n=(e=f[t]).value.match(Xe.CURLIES),o=U.camelCaseFromHyphens(e.name);if(n){var a=n[1],i=k.deepValue(s,a);if(ne.isFunction(i))l[o]=i.bind(s);else{if(~a.indexOf(":"))throw Error("Cannot use transformer for "+a);var u=function(){return l[o]=k.deepValue(s,a),u};k.addPropertyListener(s,a,u())}c.removeAttribute(e.name)}else(n=e.value.match(Xe.SINGLE_CURLIES))?(l[o]=new Function("return "+n[1])(),c.removeAttribute(e.name)):l[o]=e.value;p=e},r=void 0,n=0,o=f.length;n<o;n++)t(r,n),r=p;re.runConstructorQueue(l,c)}(E,e,h);else if(e.type===Xe.TemplateTokenType.PROPERTY){if(Array.isArray(v)){var y=(f=C,d=e.position,f.infos.find(function(e){return e.position===d&&"template"===e.attribute})),g=h.getAttribute("template")||void 0,T=void 0;ne.isDef(y)&&Xe.CURLIES.test(g)?(T=function(){return w(E,y,_)},k.addPropertyListener(E,y.path(),function(){v.splice.apply(v,[0,v.length].concat(v))})):T=function(){return g},a=v,i=h,u=E,s=T,c=e.arrayTransformer(),l=(u[c]||Ye.TransformerRegistry[c]).bind(u),p=qe.domArrayListener(a,i,l(),function(e){var t=Xe.getTemplate(e,s()),r=t.nodes[1];return re.runConstructorQueue(e,r),P.connectTemplate(e,r,t,i),r}),qe.observeArray(a,p),h.removeAttribute("template")}}else if(ne.isFunction(v))$e.createComputedListener(E,e,O);else if(e.type===Xe.TemplateTokenType.TEMPLATE){var b=(n=C,o=e.position,n.infos.find(function(e){return e.position===o&&e.type===Xe.TemplateTokenType.PROPERTY}));!ne.isUndef(b)&&Array.isArray(k.deepValue(E,b.path()))||function(t,r,n,o){var e=w(t,n,o);if(ne.isDef(e)){var a=function(){var e=w(t,n,o);return P.render(t,r,e),a};k.addPropertyListener(t,n.path(),a())}else P.render(t,r,n.curly());r.removeAttribute("template")}(E,h,e,_)}else A.includes(m)||Array.isArray(v)||(A.push(m),k.createObjectPropertyListener(E,m,function(){return O()}));L=e},t=void 0,r=0,n=j.length;r<n;r++)e(t,r),t=L};P.connectTemplate=function(e,t,r,n){void 0===n&&(n=t.parentNode);var o=function(e,t){for(var r={},n=void 0,o=0,a=t.infos.length;o<a;o++){var i=(n=t.infos[o]).transformers();i&&(r[n.curly()]=m(e,i))}return r}(e,r),a=c(e,r,o,[]),i=function(){v.has(e)||(a=c(e,r,o,a.valueMap)).change&&n.dispatchEvent(s())};t.addEventListener(u,i),l(r,e,i,o),Je.injectTemplateNodes(e,r.nodes)};var m=function(r,e){return ne.compose(e.map(function(e){var t=r[e]||Ye.TransformerRegistry[e];if(ne.isUndef(t))throw Error("No transformer found for "+e+". Implement function on "+r.constructor.name+" or annotate a method with @Transformer()");return t.bind(r)}))};P.render=function(e,t,r){for(var n=C.allChildNodes(t),o=void 0,a=0,i=n.length;a<i;a++)(o=n[a])!==t&&N.cleanUp(o);t.innerHTML="";var u=Xe.getTemplate(e,r);P.connectTemplate(e,t,u),t.appendChild(u.doc)},P.findWidgets=function(e,t){return S.get(e).filter(function(e){return Object.getPrototypeOf(e)===t.prototype})},P.findWidget=function(e,t){return P.findWidgets(e,t)[0]};var v=new WeakMap;P.Batch=function(){return function(e,n){re.addToConstructorQueue(e.constructor,function(e,t){var r=e[n];Object.defineProperty(e,n,{value:function(){v.set(e,!0),r.apply(e,arguments),v.delete(e),t.dispatchEvent(s())}})})}}}),Ze=t(Ke),et=Ke.connectTemplate,tt=Ke.render,rt=Ke.findWidgets,nt=Ke.findWidget,ot=Ke.Batch,at=Object.freeze({default:Ze,__moduleExports:Ke,connectTemplate:et,render:tt,findWidgets:rt,findWidget:nt,Batch:ot}),it=r(function(e,t){var c,r,o=i&&i.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function l(e,t){!0===e.preventDefault&&t.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),(r=c=t.Scope||(t.Scope={}))[r.Direct=0]="Direct",r[r.Delegate=1]="Delegate",r[r.UntilMatch=2]="UntilMatch";var a=function(s){return function(i,u){(Array.isArray(s.event)?s.event:[s.event]).forEach(function(e){c.Direct&&ne.isDef(s.selector)&&(u=u.querySelector(s.selector));var r,n,o,a,t=(n=i,o=u,a=(r=s).scope===c.Direct||ne.isUndef(s.selector),function(e){if(a)l(r,e),n[r.method].call(n,e,o);else{var t=e.target;do{if(t.nodeType===Node.ELEMENT_NODE&&t.matches(r.selector))return l(r,e),n[r.method].call(n,e,t);if(t===o&&r.scope!==c.UntilMatch)break}while(t=t.parentElement)}});u.addEventListener(e,t,s.options),N.registerCleanUp(u,function(){return u.removeEventListener(e,t)})})}};t.On=function(n){return function(e,t){var r=o({},n,{method:t,event:n.event||t,scope:c.Delegate});re.addToConstructorQueue(e.constructor,a(r))}}}),ut=t(it),st=it.Scope,ct=it.On,lt=Object.freeze({default:ut,__moduleExports:it,Scope:st,On:ct}),pt=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new WeakMap,f=new WeakMap,d=function(e,t){window.localStorage.setItem(e,JSON.stringify({value:t}))},m=function(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t).value},o=function(p){return function(l){var e=n.get(Object.getPrototypeOf(l));e&&e.forEach(function(e){var t,r,n,o,a,i=(r=(t=l).id||t.name||t.title||t.constructor.name,(ne.isFunction(r)?r():r)+"."+e),u=l[e];if(Array.isArray(u)){var s=ne.isDef(p)?p():void 0;if(ne.isUndef(s))throw Error("Stored arrays need an arrayType argument");try{var c=function(e,t){var n=f.get(t),r=m(e);if(r&&!ne.isUndef(n))return r.map(function(r){return n.reduce(function(e,t){return e[t]=r[t],e},new(Function.prototype.bind.apply(t)))})}(i,s);ne.isDef(c)&&(u=l[e]=c)}catch(e){console.warn("LocalStorage loading failed...ignoring")}n=u,a={sort:o=function(){!function(e,t,r){var n=f.get(r);if(ne.isUndef(n))throw Error("@LocalStorage array items must have at least one @Storable() property");var o=t.map(function(e){return k.getSubset(n,e)});setTimeout(function(){return d(e,o)},80)}(i,u,s)},splice:function(e,t,r){r.length&&r.forEach(function(t){var e=Object.getPrototypeOf(t);f.get(e.constructor).forEach(function(e){k.addPropertyListener(t,e,o)})}),(r.length||0<t)&&o()}},qe.observeArray(n,a),a.splice(0,0,n)}else{c=m(i);ne.isDef(c)&&(l[e]=c),k.addPropertyListener(l,e,function(){d(i,l[e])})}})}};t.LocalStorage=function(r){return function(e,t){k.ensure(n,e,[t]),re.addToConstructorQueue(e.constructor,o(r))}},t.Storable=function(){return function(e,t){k.ensure(f,e.constructor,[t])}}}),ft=t(pt),dt=pt.LocalStorage,mt=pt.Storable,vt=Object.freeze({default:ft,__moduleExports:pt,LocalStorage:dt,Storable:mt}),ht=r(function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.routeListeners={};var i=/[:*]\w+/gi,t=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),u=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]],r=function(){var e=location.pathname;return t||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},n=function(r){Object.values(a.routeListeners).forEach(function(e){return e.forEach(function(e){var t=function(e,t){var r=e.match(i);if(r&&r.length){r=r.map(function(e){return e.substr(1)});var n=u.reduce(function(e,t){return e.replace(t[0],t[1])},e),o=new RegExp("^"+n+"$","gi");return U.namedRegexMatch(t,o,r)}if(new RegExp("^"+e+"$","gi").exec(t))return{}}(e.route,r);t&&e.callback(t)})})};a.navigate=function(e){t?(history.pushState(null,"",e),n(r())):location.hash=e},a.runRoutes=function(){window.blockRouting||n(r()),window.addEventListener(t?"popstate":"hashchange",function(){return n(r())},!1)},a.Route=function(o){return function(e,n){re.addToConstructorQueue(e.constructor,function(e,t){a.routeListeners[o]||(a.routeListeners[o]=[]);var r={route:o,callback:e[n].bind(e)};a.routeListeners[o].push(r),N.registerCleanUp(t,function(){return a.routeListeners[o].splice(a.routeListeners[o].indexOf(r),1)})})}}}),yt=t(ht),gt=ht.routeListeners,Tt=ht.navigate,bt=ht.runRoutes,Ct=ht.Route,Et=Object.freeze({default:yt,__moduleExports:ht,routeListeners:gt,navigate:Tt,runRoutes:bt,Route:Ct}),Ot=function(e){return ct({selector:e,event:"click",preventDefault:!0})},_t=(function(){function e(){var t=this;this.state=B.ALL,this.todos=[],this.init=function(e){return tt(t,e)},this.listFilter=function(){return function(e){return t.state===B.ALL||t.state===B.COMPLETED&&e.completed||t.state===B.ACTIVE&&!e.completed}},this.stateAll=function(e){return t.selectedState(e,B.ALL)},this.stateActive=function(e){return t.selectedState(e,B.ACTIVE)},this.stateCompleted=function(e){return t.selectedState(e,B.COMPLETED)},this.isEmpty=function(){return 0===t.todos.length},this.noCompleted=function(){return 0===t.completed()},this.pluralize=function(){return 1===t.active()?"item":"items"},this.allCompleted=function(){return t.completed()===t.todos.length},this.active=function(){return t.todos.length-t.completed()},this.completed=function(){return t.todos.filter(function(e){return e.completed}).length},this.selectedState=function(e,t){return e===t?"selected":void 0}}e.prototype.newTodo=function(e){this.todos.push(e)},e.prototype.deleteTodo=function(e){Me(this.todos,[e])},e.prototype.locationPath=function(e){"active"===e.path?this.state=B.ACTIVE:"completed"===e.path&&(this.state=B.COMPLETED)},e.prototype.root=function(){this.state=B.ALL},e.prototype.clearCompleted=function(){Me(this.todos,this.todos.filter(function(e){return e.completed}))},e.prototype.toggleAll=function(){var t=!this.allCompleted();this.todos.forEach(function(e){return e.completed=t})},e.prototype.toHtml=function(){return'\n        <header class="header"/>\n        <section class="main">\n          <input class="toggle-all" type="checkbox" checked="{{todos:allCompleted}}">\n          <label for="toggle-all" hidden="{{todos:isEmpty}}">Mark all as complete</label>\n          <ul class="todo-list" {{todos:listFilter}}/>\n        </section>\n        <footer class="footer" hidden="{{todos:isEmpty}}">\n          <span class="todo-count"><strong>{{todos:active}}</strong> {{todos:pluralize}} left</span>\n          <ul class="filters">\n            <li><a class="{{state:stateAll}}" href="#/">All</a></li>\n            <li><a class="{{state:stateActive}}" href="#/active">Active</a></li>\n            <li><a class="{{state:stateCompleted}}" href="#/completed">Completed</a></li>\n          </ul>\n          <button class="clear-completed" hidden="{{todos:noCompleted}}">Clear completed</button>\n        </footer>'},Y([dt(function(){return _t})],e.prototype,"todos",void 0),Y([Ct("/:path")],e.prototype,"locationPath",null),Y([Ct("/")],e.prototype,"root",null),Y([Ot(".clear-completed")],e.prototype,"clearCompleted",null),Y([Ot('label[for="toggle-all"]'),ot()],e.prototype,"toggleAll",null),Y([Oe()],e.prototype,"toHtml",null),e=Y([z({selector:".todoapp",singleton:!0})],e)}(),function(){function e(e,t){void 0===t&&(t=!1),this.editing=!1,this.completedClass=function(e){return e?"completed":void 0},this.editingClass=function(e){return e?"editing":void 0},this.completed=t,this.name=e}return e.prototype.complete=function(e){this.completed=e.target.checked},e.prototype.deleteSelf=function(){this.todoList.deleteTodo(this)},e.prototype.startEditing=function(e,t){this.edit.value=this.name,this.editing=!0,this.edit.focus()},e.prototype.endEditing=function(e){13===e.keyCode&&(this.name=this.edit.value.trim(),this.name||this.todoList.deleteTodo(this),this.stopEditing())},e.prototype.cancelEditing=function(e){27===e.keyCode&&this.stopEditing()},e.prototype.stopEditing=function(){this.editing=!1},e.prototype.toHtml=function(){return'\n        <li class="{{completed:completedClass}} {{editing:editingClass}}">\n          <div class="view">\n            <input class="toggle" type="checkbox" checked="{{completed}}">\n            <label>{{name}}</label>\n            <button class="destroy"></button>\n          </div>\n          <input class="edit" placeholder="Create a TodoMVC template" value="{{name}}">\n        </li>'},Y([mt()],e.prototype,"completed",void 0),Y([mt()],e.prototype,"name",void 0),Y([ie()],e.prototype,"todoList",void 0),Y([He(".edit")],e.prototype,"edit",void 0),Y([ct({event:"click",selector:".toggle"})],e.prototype,"complete",null),Y([Ot(".destroy")],e.prototype,"deleteSelf",null),Y([ct({event:"dblclick",selector:"label"})],e.prototype,"startEditing",null),Y([ct({event:"keyup",selector:".edit"})],e.prototype,"endEditing",null),Y([ct({event:"keyup",scope:st.Direct})],e.prototype,"cancelEditing",null),Y([ct({event:["blur","focusout"],selector:"input.edit",scope:st.Direct})],e.prototype,"stopEditing",null),Y([Oe()],e.prototype,"toHtml",null),e}()),Lt=(function(){function e(){}e.prototype.init=function(e){tt(this,e)},e.prototype.createTodo=function(e){var t=this.edit;13===e.keyCode&&t.value.trim()&&(this.todoList.newTodo(new _t(t.value)),t.value="")},e.prototype.toHtml=function(){return'\n            <h1>todos</h1>\n            <input class="new-todo" id="new-todo" placeholder="What needs to be done?" autofocus>\n        '},Y([ie()],e.prototype,"todoList",void 0),Y([He("input")],e.prototype,"edit",void 0),Y([ct({event:"keypress",selector:"input",scope:st.Direct})],e.prototype,"createTodo",null),Y([Oe()],e.prototype,"toHtml",null),e=Y([z({selector:".header"})],e)}(),r(function(e,t){var n,r=i&&i.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=i&&i.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var f=new WeakMap,d=function(e){return e.json()},m=function(e){if(!e.ok)throw new o(e.statusText,e);return e},o=function(n){function e(e,t){var r=n.call(this,e)||this;return r.response=t,r}return r(e,n),e}(Error),a=function(l){return function(c){return function(s,e){re.addToConstructorQueue(s.constructor,function(i){var u=s[e];i[e]=function(e){var t,r,n,o=[e].filter(ne.isDef).map(function(e){return"string"==typeof e?e:JSON.stringify(e)}),a=Object.keys(c).reduce(function(e,t){return(e[t]=ne.isFunction(e[t])?e[t].call(i):e[t])&&e},p({},c,{url:U.format(c.url,i),body:o[0],method:l}));return(t=a.url,r=a,n=a.processor,void 0===n&&(n=d),fetch(t,r).then(m).then(n)).then(function(e){return u.apply(i,o.concat([e])),e}).catch(function(e){if(f.has(s)){var t=f.get(s)[""+e.response.status];t&&i[t].call(i,e)}})}})}}};t.Get=a("GET"),t.Post=a("POST"),t.Delete=a("DELETE"),t.Put=a("PUT"),t.FetchError=function(n){return function(e,t){var r;k.ensure(f,e,((r={})[""+n]=t,r))}}})),At=t(Lt),jt=Lt.Get,Pt=Lt.Post,St=Lt.Delete,wt=Lt.Put,kt=Lt.FetchError,Mt=Object.freeze({default:At,__moduleExports:Lt,Get:jt,Post:Pt,Delete:St,Put:wt,FetchError:kt}),Rt=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MediaQuery=function(i){return function(o,a){re.addToConstructorQueue(o.constructor,function(t,r){var n=function(e){return e.matches&&o[a].call(t,r),n},e=window.matchMedia(i);e.addListener(n(e)),N.registerCleanUp(r,function(){return e.removeListener(n)})})}}}),xt=t(Rt),Nt=Rt.MediaQuery,Ut=Object.freeze({default:xt,__moduleExports:Rt,MediaQuery:Nt}),Dt=lt&&ut||lt,Ft=Mt&&At||Mt,It=vt&&ft||vt,Wt=Ut&&xt||Ut,Qt=Et&&yt||Et,zt=ue&&ae||ue,Vt=at&&Ze||at,Ht=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=ne;t.isDef=r.isDef,t.isUndef=r.isUndef,t.isFunction=r.isFunction,t.compose=r.compose;var n=qe;t.observeArray=n.observeArray,t.range=n.range,t.removeFromArray=n.removeFromArray;var o=k;t.ensure=o.ensure,t.addPropertyListener=o.addPropertyListener,t.deepValue=o.deepValue,t.getSubset=o.getSubset,t.isObject=o.isObject,t.merge=o.merge;var a=C;t.allChildNodes=a.allChildNodes,t.allTextNodes=a.allTextNodes;var i=$e;t.Computed=i.Computed;var u=re;t.start=u.start,t.addToConstructorQueue=u.addToConstructorQueue,t.Construct=u.Construct;var s=Dt;t.On=s.On,t.Scope=s.Scope;var c=Ft;t.Delete=c.Delete,t.Get=c.Get,t.Post=c.Post,t.Put=c.Put;var l=It;t.Storable=l.Storable,t.LocalStorage=l.LocalStorage;var p=Wt;t.MediaQuery=p.MediaQuery;var f=Qt;t.navigate=f.navigate,t.runRoutes=f.runRoutes;var d=Ye;t.Transformer=d.Transformer;var m=zt;t.Inject=m.Inject;var v=Xe;t.Template=v.Template;var h=Je;t.TemplateNode=h.TemplateNode;var y=Vt;t.findWidget=y.findWidget,t.findWidgets=y.findWidgets,t.render=y.render,t.Batch=y.Batch;var g=N;t.registerCleanUp=g.registerCleanUp});t(Ht);Ht.isDef,Ht.isUndef,Ht.isFunction,Ht.compose,Ht.observeArray,Ht.range,Ht.removeFromArray,Ht.ensure,Ht.addPropertyListener,Ht.deepValue,Ht.getSubset,Ht.isObject,Ht.merge,Ht.allChildNodes,Ht.allTextNodes,Ht.Computed,Ht.start,Ht.addToConstructorQueue,Ht.Construct,Ht.On,Ht.Scope,Ht.Delete,Ht.Get,Ht.Post,Ht.Put,Ht.Storable,Ht.LocalStorage,Ht.MediaQuery,Ht.navigate;var Gt=Ht.runRoutes;Ht.Transformer,Ht.Inject,Ht.Template,Ht.TemplateNode,Ht.findWidget,Ht.findWidgets,Ht.render,Ht.Batch,Ht.registerCleanUp;return Q(),Gt(),{}}();
//# sourceMappingURL=todomvc.min.js.map